{"code":"!function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=0)}([function(e,t,i){\"use strict\";i.r(t),function(e){i(2);!function(t){const r=i(3);function o(){return\"translate(\"+this.properties.x+\"px,\"+this.properties.y+\"px) scale(\"+this.properties.scale+\") rotate(\"+this.properties.deg+\"deg)\"}function s(){(function(){const e=document.createElement(\"div\");e.classList.add(\"cropme-container\"),e.style.width=this.options.container.width+\"px\",e.style.height=this.options.container.height+\"px\",this.properties.container=e,this.properties.wrapper.appendChild(e)}).call(this),function(){const e=document.createElement(\"div\");e.classList.add(\"cropme-slider\");const t=this.properties.slider=document.createElement(\"input\");t.type=\"range\",t.setAttribute(\"min\",this.options.zoom.min),t.setAttribute(\"max\",this.options.zoom.max),t.setAttribute(\"step\",1e-6),t.style.width=this.options.container.width+\"px\",e.appendChild(t),this.properties.wrapper.appendChild(e)}.call(this),function(){this.properties.image||(this.properties.image=document.createElement(\"img\")),this.properties.image.ondragstart=(()=>!1),this.properties.container.appendChild(this.properties.image)}.call(this),function(){const e=this.properties.viewport=document.createElement(\"div\"),t=this.options;t.viewport.width=t.viewport.width>t.container.width?t.container.width:t.viewport.width,t.viewport.height=t.viewport.height>t.container.height?t.container.height:t.viewport.height,e.style.width=t.viewport.width+\"px\",e.style.height=t.viewport.height+\"px\",e.className=\"viewport\",\"circle\"===t.viewport.type&&(e.className=\"viewport circle\");let i=0;if(t.viewport.border){let e=(t.container.width-t.viewport.width)/2;i=e<this.properties.viewport.clientLeft?e:this.properties.viewport.clientLeft}this.properties.viewport.style.borderWidth=i+\"px\",this.properties.viewport.border=i,this.properties.container.appendChild(e)}.call(this);let e,t,i=0,r=0;function s(e){if(e.touches){let t=e.touches[0];e.pageX=t.pageX,e.pageY=t.pageY}return e}let n=function(o){o.preventDefault(),o=s(o),i=this.properties.x||i,r=this.properties.y||r,e=o.pageX-i,t=o.pageY-r,document.addEventListener(\"mousemove\",p),document.addEventListener(\"touchmove\",p)};this.properties.image.addEventListener(\"mousedown\",n),this.properties.image.addEventListener(\"touchstart\",n);let p=function(i){if(i.preventDefault(),(i=s(i)).touches&&i.touches.length>1){let e=i.touches[1],t=i.touches[0],r=t.pageX-e.pageX,o=t.pageY-e.pageY,s=90-180*Math.atan(r/o)/Math.PI;this.properties.odeg||(this.properties.odeg=s-this.properties.deg),this.properties.deg=s-this.properties.odeg;let n=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));this.properties.od||(this.properties.od=n/this.properties.scale),this.properties.scale=this.properties.slider.value=n/this.properties.od}this.properties.x=i.pageX-e,this.properties.y=i.pageY-t,this.properties.image.style.transform=o()},a=function(){document.removeEventListener(\"touchmove\",p),document.removeEventListener(\"mousemove\",p),this.properties.od=0,this.properties.odeg=0};document.addEventListener(\"mouseup\",a),document.addEventListener(\"touchend\",a),this.properties.slider.addEventListener(\"input\",function(e){this.properties.scale=parseFloat(e.target.value),this.properties.image.style.transform=o()});this.properties.container.addEventListener(\"mousewheel\",function(e){e.preventDefault();let t=this.properties.slider.value=this.properties.scale+e.wheelDelta/1200*this.properties.scale;t>this.options.zoom.min&&t<this.options.zoom.max&&(this.properties.scale=t,this.properties.image.style.transform=o())})}window.jQuery&&(jQuery.fn.cropme=function(e,t){if(\"object\"==typeof e)return this.each(function(){var t=new n(this,e);$(this).data(\"cropme\",t)});if(\"string\"==typeof e){let i=this.data(\"cropme\");if(\"position\"===e)return i.position();if(\"bind\"===e)return i.bind(t);if(\"export\"===e)return i.export(t);if(\"rotate\"===e)return i.rotate(t);if(\"destroy\"===e)return i.destroy();throw\"Error: \"+e+\" method not found\"}throw\"Error: the argument must be an object or a string\"});class n{constructor(e,t){if(e.className.indexOf(\"cropme-wrapper\")>-1)throw\"Error: Cropme is already initialized\";this.properties={},this.options=r(p,t),this.properties.wrapper=e,\"img\"===e.tagName.toLowerCase()&&(this.properties.image=e,this.properties.wrapper=document.createElement(\"div\"),e.parentNode.insertBefore(this.properties.wrapper,e.previousSibling)),this.properties.wrapper.classList.add(\"cropme-wrapper\"),s.call(this),this.properties.image.src&&this.bind({url:this.properties.image.src})}bind(e){this.properties.image.src=e.url;let t=this.properties,i=this.options;t.image.onload=function(){let r=t.image.getBoundingClientRect(),s=t.container.getBoundingClientRect(),n=(s.width-r.width)/2,p=(s.height-r.height)/2;t.ox=n,t.oy=p,\"object\"==typeof e.position&&(n=e.position.x||n,p=e.position.y||p);let a=e.scale?e.scale:s.height/r.height;a<i.zoom.min&&(a=i.zoom.min),a>i.zoom.max&&(a=i.zoom.max),t.x=n,t.y=p,t.scale=a,t.slider.value=a,t.deg=e.deg||0,t.image.style.transform=o(),t.image.style.opacity=1}}rotate(e){this.properties.deg=e,this.properties.image.style.transform=o()}export(e){let t=function(e){let t=document.createElement(\"canvas\"),i=t.getContext(\"2d\"),r=this.options.viewport.width,s=this.options.viewport.height;\"object\"==typeof e&&(e.scale?(r*=e.scale,s*=e.scale):e.width&&(s=e.width*s/r,r=e.width)),t.width=r,t.height=s;const n=r/this.options.viewport.width,p=s/this.options.viewport.height,a=this.properties.deg,h=this.properties.x,c=this.properties.y;function l(e,t,i){this.properties.deg=e,this.properties.x=t,this.properties.y=i,this.properties.image.style.transform=o()}0!==a&&l.call(this,0,this.properties.ox,this.properties.oy);const d=this.properties.image.getBoundingClientRect(),u=this.properties.viewport.getBoundingClientRect(),f=n*(d.x-u.x-this.properties.viewport.border),m=p*(d.y-u.y-this.properties.viewport.border);if(0!==a&&(i.translate((h-this.properties.x)*n,(c-this.properties.y)*p),i.translate(r/2,s/2),i.rotate(a*Math.PI/180),i.translate(-r/2,-s/2)),i.drawImage(this.properties.image,f,m,d.width*n,d.height*p),\"circle\"===this.options.viewport.type){i.translate(r/2,s/2),i.rotate(-a*Math.PI/180),i.translate(-r/2,-s/2),i.scale(1,this.options.viewport.height/this.options.viewport.width);let e=(this.options.viewport.width-this.options.viewport.height)/2*n,t=(this.properties.x-h)*n,o=(this.properties.y-c)*p;e>0?o=e+2*o:e<0&&(o=e+o/2),i.translate(t,o),i.globalCompositeOperation=\"destination-in\",i.arc(r/2,s/2,r/2,0,2*Math.PI),i.fill()}return\"triangle\"===this.options.viewport.type&&(i.translate(r/2,s/2),i.rotate(-a*Math.PI/180),i.translate(-r/2,-s/2),i.translate((this.properties.x-h)*n,(this.properties.y-c)*p),i.beginPath(),i.globalCompositeOperation=\"destination-in\",i.moveTo(r/2,0),i.lineTo(r,s),i.lineTo(0,s),i.closePath(),i.fill()),l.call(this,a,h,c),t}.call(this,e);return e=\"object\"==typeof e?e.type:e,new Promise(i=>{\"blob\"===e?t.toBlob(e=>i(URL.createObjectURL(e))):i(t.toDataURL())})}position(){return{x:this.properties.x,y:this.properties.y,scale:this.properties.scale,deg:parseInt(this.properties.deg)}}destroy(){this.properties.wrapper.innerHTML=\"\",this.properties.wrapper.className=this.properties.wrapper.className.replace(\"cropme-wrapper\",\"\"),delete this.properties}}const p={container:{width:300,height:300},viewport:{width:100,height:100},zoom:{min:.01,max:3}};\"object\"==typeof e.exports?e.exports=n:\"function\"==typeof define&&i(4)?define([],function(){return n}):t.Cropme=n}(window)}.call(this,i(1)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,\"exports\",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,i){},function(e,t,i){e.exports=function(e){function t(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p=\"\",t(0)}([function(e,t,i){\"use strict\";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function e(t){for(var i=arguments.length,n=Array(i>1?i-1:0),p=1;p<i;p++)n[p-1]=arguments[p];if(!n.length)return t;var a=n.shift();if((0,o.isObject)(t)&&(0,o.isObject)(a))for(var h in a)(0,o.isObject)(a[h])?(t[h]||Object.assign(t,r({},h,{})),e(t[h],a[h])):(0,s.isArray)(a[h])?(t[h]||Object.assign(t,r({},h,[])),t[h]=t[h].concat(a[h])):Object.assign(t,r({},h,a[h]));return e.apply(void 0,[t].concat(n))};var o=i(1),s=i(2);e.exports=t.default},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.isObject=function(e){return e&&\"object\"===(void 0===e?\"undefined\":i(e))&&!Array.isArray(e)}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isArray=function(e){return e&&Array.isArray(e)}}])},function(e,t){(function(t){e.exports=t}).call(this,{})}]);","extractedComments":[]}